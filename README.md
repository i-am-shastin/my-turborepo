# My Turborepo

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ —Å—ã—Ä–∞—è –∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –∏ –Ω—é–∞–Ω—Å—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ë–î –≤ –¥–æ–∫–µ—Ä –æ–±–µ—Ä–Ω—É–ª, –Ω–æ –∑–∞–±—ã–ª –¥–æ–±–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î, –ø–æ—ç—Ç–æ–º—É "–∏–∑ –∫–æ—Ä–æ–±–∫–∏" –Ω–∏—á–µ–≥–æ –Ω–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç ü´†

Swagger –≤–µ—Ä—Ç–∏—Ç—Å—è –Ω–∞ http://localhost:30000/api, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ http://localhost:3000.

## –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏?

- `apps/api`: –ë—ç–∫–µ–Ω–¥ —Å NestJS + Swagger + Zod + Postgres + Prisma
- `apps/web`: –§—Ä–æ–Ω—Ç –Ω–∞ Next.js + Shadcn
- `@repo/database`: –û—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç –ø–æ–¥ Prisma, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è `apps/api`
- `@repo/crypto`: –û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ bcrypt (—Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ä–∞—É–Ω–¥–æ–≤ —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è) –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ `apps/api` –∏ –≤ `@repo/database` (–≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –ø—Ä–∏ —Å–∏–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ –ë–î)

## –ë–∏–ª–¥–∏–º –ª–æ–∫–∞–ª—å–Ω–æ:

–°–ø–µ—Ä–≤–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º:

`.env` –¥–ª—è `apps/api`:

```sh
JWT_ACCESS_SECRET='some_secret'
JWT_ACCESS_EXPIRE_SECONDS=900
JWT_REFRESH_SECRET='another_secret'
JWT_REFRESH_EXPIRE_SECONDS=604800
```

`.env` –¥–ª—è `apps/web`:

```sh
NEXT_PUBLIC_API_URL='http://localhost:30000'
```

`.env` –¥–ª—è `packages/database`:

```sh
DATABASE_URL="postgresql://$MY_DB_USER:$MY_DB_PASSWORD@localhost:5432/$MY_DB_NAME"
```

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø–æ–¥–Ω–∏–º–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```sh
npm install
docker-compose up postgres
npx turbo db:migrate
npx turbo dev
```

## Rambles:
–£ –º–µ–Ω—è –Ω–µ –∑–∞–¥–∞–ª–æ—Å—å —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞ - –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —è –Ω–∞—á–∞–ª —Å–æ–±–∏—Ä–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –¥–≤—É–º—è –ø—Ä–∏–ª–æ–∂—É—Ö–∞–º–∏, –∑–∞–∏–Ω—Å—Ç–∞–ª–ª–∏–ª Prisma –≤ NestJS, –∞ –ø–æ—Ç–æ–º —É–≤–∏–¥–µ–ª, —á—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω –µ—â—ë –∏ –ø–∞–∫–µ—Ç :) –ü–æ—Ç–æ–º —Å—Ö–æ–¥—É –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–∫–µ—Ç–∞ database –≤ –±—ç–∫ - –Ω–µ —Å—Ä–∞–∑—É –ø–æ–Ω—è–ª, —á—Ç–æ NestJS —Ç—Ä–µ–±—É–µ—Ç —É–∂–µ —Å–±–∏–ª–∂–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã.

–ö–æ–≥–¥–∞ –ø–æ–¥–Ω—è–ª –±—ç–∫ –∏ –Ω–∞—á–∞–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å - –æ–∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç @passport, —Å –∫–æ—Ç–æ—Ä—ã–º —è –¥–æ —ç—Ç–æ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª. –ü–æ—Ç–æ–º –≤—ã—è—Å–Ω–∏–ª–æ—Å—å, —á—Ç–æ –∏–∑ –∫–æ—Ä–æ–±–∫–∏ —Ç–∞–º –Ω–µ—Ç —Ä–µ—Ñ—Ä–µ—à —Ç–æ–∫–µ–Ω–æ–≤ (–∏–ª–∏ —è —É–ø—É—Å—Ç–∏–ª —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏). –° —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π HttpOnly –∫—É–∫–∏—Å —Ç–æ–∂–µ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã - –ø–∞—Ä—Å–∏—Ç—å —Ç–æ–∫–µ–Ω –∏–∑ –∫—É–∫–æ–≤/–ø–∏—Å–∞—Ç—å –µ–≥–æ –≤ `Response` –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é (–∏–ª–∏, –æ–ø—è—Ç—å –∂–µ, —è –Ω–µ –∑–Ω–∞—é –∫–∞–∫—É—é-—Ç–æ –º–∞–≥–∏—á–µ—Å–∫—É—é —Ñ—É–Ω–∫—Ü–∏—é/–±–∏–±–ª–∏–æ—Ç–µ—á–∫—É).

–ù—É –∏ —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç—å—é —Ç–æ–∂–µ –ø–µ—á–∞–ª—å–Ω–æ - –∏–∑-–∑–∞ HttpOnly –∫—É–∫–∏—Å–æ–≤ –ø—Ä–∏—à–ª–æ—Å—å –∫–æ–≤—ã—Ä—è—Ç—å—Å—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π Nextjs, –≤ –∏—Ç–æ–≥–µ —Å–¥–µ–ª–∞–ª _–¥–∞–ª–µ–∫–æ_ –Ω–µ —Ç–∞–∫, –∫–∞–∫ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –∏ __—Å–æ–≤—Å–µ–º__ –Ω–µ —Ç–∞–∫, –∫–∞–∫ –Ω—É–∂–Ω–æ :) –ü–æ —Ö–æ—Ä–æ—à–µ–º—É —Ç–∞–º –±—ã –≤—ã–Ω–µ—Å—Ç–∏ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É –∏ –≤ –æ–±—â–µ–º –ª–µ–π–∞—É—Ç–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Å –±—ç–∫–∞ /me, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –ø—Ä–æ–∫–∏–Ω—É—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—É. –¢–æ–≥–¥–∞ –∫–∞–∫ —Ä–∞–∑ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª SSR —Å—Ç—Ä–∞–Ω–∏—á–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è, –∞ –≤–æ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö.

–í-–æ–±—â–µ–º, —è –ø—ã—Ç–∞–ª—Å—è –∫–∞–∫ –º–æ–≥, –Ω–æ –∏–º—Ö–æ –ø–æ–¥–æ–±–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–æ–≤—Å–µ–º –Ω–µ –∑–∞ –ø–∞—Ä—É –¥–Ω–µ–π, –µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –≤—Å—ë –ø–æ —É–º—É. –Ø –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å RBAC –∏ —Ç–æ–∫–µ–Ω–∞–º–∏ (—Å —É—á—ë—Ç–æ–º —Ç–æ–≥–æ, —á—Ç–æ —é–∑–∞–ª –≥–æ—Ç–æ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ—á–∫–∏) —Å–æ–∑–¥–∞–≤–∞–ª –ø–æ—á—Ç–∏ —á—Ç–æ –º–µ—Å—è—Ü, –ø–æ–∫–∞ –Ω–µ –¥–æ–≤—ë–ª –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–æ —É–º–∞.
